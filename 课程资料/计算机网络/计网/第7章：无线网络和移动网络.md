

### 第七章：无线网络和移动网络

考试范围为7.1-7.3

#### 概述

无线网络具有以下要素：

- 无线主机。
- 无线链路。主机通过**无线通信链路**连接到一个基站或者另一台无线主机。无线链路标准的两大特性为**覆盖区域**和**链路速率**。
- 基站。基站在有线网络中没有对应设备，负责协调多个无线主机之间的传输。当说无线主机与某个基站“相关联”时，是指：
- 该主机位于基站的无线通信覆盖范围内。
- 主机使用该基站中继它和更大网络之间的数据。

由于路由选择、地址分配等服务都是由与基站相关联的主机提供，因此与基站相关联的主机被称为以**基础设施模式**运行。

当主机超出一个基站的范围到达另一个基站的范围时，需要进行**切换**。

在无线网络类型的最高层次，我们可以根据两个准则进行分类：

1. 无线网络的分组是否跨越了一个无线跳或多个无线跳。
2. 网络中是否有如基站这样的基础设施。

- 单跳，基于基础设施。这些网络具有与较大有线网络连接的基站，基站与无线主机的所有通信都经过一个无线跳。
- 多跳，基于基础设施。一个基站表现为以有线方式与较大网络相连。某种无线节点为了经该基站通信，不得不通过其他无线节点中继他们的通信。
- 单跳，无基础设施。不存在与无线网络相连的基站，在这种单跳网络中的一个节点可以协调其他节点的传输。**蓝牙**为一个经典例子。
- 多跳，无基础设施。没有基站，且节点为了到达目的地需要在其他几个无线节点之间中继报文。

#### 无线链路和网络特征

无线链路和有线链路间区别：

- 递减的信号强度。电磁波穿过物体时强度减弱(**路径损耗**)
- 来自其他源的干扰。在同一频段发送信号的电波源将互相干扰。
- 多径传播。当电磁波一部分受到物体和地面反射时，在发送方和接收方之间走了不同长度路径，会出现多径传播，使接受的信号变得模糊。

因此无线网络中比特差错更为常见，无线链路协议采用CRC错误检测码，也是用链路层的ARQ协议来重传受损的帧。

**信噪比**(SNR)是所收到的信号和噪声强度的相对测量。较大的SNR使接收方更容易从背景噪声中提取传输的信号。

而**比特差错率**(BER)是指接收方收到有错传输比特的概率。

- 对于给定调制方案，SNR越高，BER越低。
- 对于给定SNR，具有较高比特传输率的调制技术将具有较高的BER。
- 物理层调制技术的动态选择能用于适配对信道条件的调制技术。

无线传输下，A和C同时向B传输数据时，可能会出现**隐藏终端问题**，是由于侦听范围和接受范围不一致引起的，即A在向B传输时，C由于范围问题检测不到A在传输，因此同时也向B进行传输导致信息错误。

###### 码分多址(CDMA)

CDMA属于信道划分协议族，用于保证多个发送方的信号不在接收方互相干扰。

CDMA协议中，要发送的每个比特都通过乘以一个信号的比特进行编码，这个信号的变化速率(称为**码片速率**)比初始数据比特序列的变化速率快得多。

<img src="C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20231219150843316.png" alt="image-20231219150843316" style="zoom:50%;" />

编码器输出乘以信号就可以得到编码后的数据。

且CDMA具有非常强的抗干扰性，若干扰为叠加性时(比如两个发送信号都是1，收到的就是2)，可以用编码对所对应的消息进行还原。

#### WiFi：802.11 无线LAN

##### 802.11体系结构

802.11体系结构的基本构件模块是**基本服务集**(BSS)。一个BSS包含一个或多个无线站点和一个在802.11术语中称为**接入点**(AP)的中央**基站**。

每个802.11无限站点都具有一个6字节的MAC地址，存储在该站适配器的固件中。

###### 信道与关联

当安装一个AP时，管理员为接入点分配一个单字或双字的**服务集标识符**。管理员还需为AP分配一个信道号(即不同频段)。

**WIFI丛林**是任意一个物理位置，在这里无线站点能收到两个或多个AP的信号。

在WiFi丛林中，一个主机只需要和一个AP相关联即可。为了清楚AP位于哪个丛林，802.11标准要求AP周期性发送**信标帧**，信标帧包括AP的SSID和MAC地址。

扫描信道和监听信标帧的过程被称为**被动扫描**。无线主机也能执行**主动扫描**。

在选定一个AP后，无线主机向AP发送一个关联请求帧，并且该AP以一个关联请求帧响应。一旦与一个AP关联，该主机希望加入AP所属子网中，因此通过关联的AP向子网发送一个DHCP发现报文，以获取在子网中的IP地址。网络其他部分视你主机为子网里另一台主机。

##### 802.11 MAC协议

无线LAN的随机访问协议称为**带碰撞避免的CSMA**(CSMA/CA)。

因为无线网络中，接收信号强度很小，因此制造具有碰撞检测能力的硬件代价很大，而且可能因为隐藏终端问题和衰减问题无法检测到所有的碰撞。

802.11采用**链路层确认**方案，为了处理传输时不可避免地故障情况，MAC使用链路层确认。目的站点收到通过CRC校验的帧后，等待一个被称作**短帧间间隔**(SIFS)的时间后返回一个确认帧。

为了防止隐藏终端问题，采用**RTS**和**CTS**，在终端想要发送时，先向接收方发送RTS请求请求发送，接收到后若接收方空闲，则接收方发送CTS回应发送方节点，并且为其预留带宽并通告其他节点不许发送。